let data = [
    {
      "id": 1,
      "name": "Billetera Negra",
      "price": 85,
      "description":"Billetera ecológica de diseño único",
      "img": "images/productos/slide1.jpg",
      "color": " Negro",
      "size": " 20cm largo x 10 cm alto (abierta)",
      "material": "Aguayo de lana de oveja.",
      "category":"billetera"
    },
    {
      "id": 2,
      "name": "Cartera de Mano Fucsia",
      "price": 105,
      "description": "Cartera ecológica de diseño único",
      "img": "images/productos/slide3.jpg",
      "color": " Fucsia",
      "size": " 26cm largo x 15 cm alto (abierta)",
      "material": " Aguayo de lana de oveja, Yute",
      "category":"cartera"
    },
    {
      "id": 3,
      "name": "Mochila Negra",
      "price": 155,
      "img": "images/productos/slide4.jpg",
      "description": "Mochila resistente y sostenible para el día a día",
      "img": "images/productos/slide4.jpg",
      "color":"Negro",
      "size": " 27cm largo x 23 cm alto (abierta)",
      "material": " Aguayo de Lana de oveja",
      "category":"mochila"
    },
    {
      "id": 4,
      "name": "Bolsita de Coca",
      "price": 70,
      "description": "Bolsita de coca hecha a mano con detalles auténticos",
      "img": "images/productos/slide2.jpg",
      "color": " Negro",
      "size": "20cm largo x 21 cm alto (abierta)",
      "material": "Aguayo de lana de oveja",
      "category":"coca"
    },
    {
      "id": 5,
      "name": "Polera",
      "price": 160,
      "description": "Polera de algodón orgánico con diseños inspirados en la cultura tradicional",
      "img": "images/productos/slide6.jpg",
      "color": "Blanca",
      "size": "Hombres tallas: XL L M S / Mujeres: L M S",
      "material":"Algodón",
      "category":"polera"
    },
    {
      "id": 6,
      "name": "Billetera Guinda",
      "price": 85,
      "description":"Billetera ecológica de diseño único",
      "img": "images/productos/new/Billetera guinda.jpg",
      "color": " Guinda",
      "size": " 20cm largo x 10 cm alto (abierta)",
      "material": "Aguayo de lana de oveja.",
      "category":"billetera"
    },
    {
      "id": 7,
      "name": "Billetera Ploma",
      "price": 85,
      "description":"Billetera ecológica de diseño único",
      "img": "images/productos/new/Billetera ploma.jpg",
      "color": " Plomo",
      "size": " 20cm largo x 10 cm alto (abierta)",
      "material": "Aguayo de lana de oveja.",
      "category":"billetera"
    },
    {
      "id": 0,
      "name": "Billetera Azul",
      "price": 85,
      "description":"Billetera ecológica de diseño único",
      "img": "images/productos/new/billetera posición 2.jpg",
      "color": " azul",
      "size": " 20cm largo x 10 cm alto (abierta)",
      "material": "Aguayo de lana de oveja.",
      "category":"billetera"
    },
    {
      "id": 8,
      "name": "Bolsita de Franjas",
      "price": 70,
      "description": "Bolsita de coca hecha a mano con detalles auténticos",
      "img": "images/productos/new/Bolsita de coca franjas.jpg",
      "color": " franjas",
      "size": "20cm largo x 21 cm alto (abierta)",
      "material": "Aguayo de lana de oveja",
      "category":"coca"
    },
    {
      "id": 9,
      "name": "Cartera de Mano Blanca",
      "price": 105,
      "description": "Cartera ecológica de diseño único",
      "img": "images/productos/new/Cartera de mano blanca.jpg",
      "color": "Blanco",
      "size": " 26cm largo x 15 cm alto (abierta)",
      "material": " Aguayo de lana de oveja, Yute",
      "category":"cartera"
    },
    {
      "id": 10,
      "name": "Cartera de Mano Marrón",
      "price": 105,
      "description": "Cartera ecológica de diseño único",
      "img": "images/productos/new/Cartera de mano cafe.jpg",
      "color": "Blanco",
      "size": " 26cm largo x 15 cm alto (abierta)",
      "material": " Aguayo de lana de oveja, Yute",
      "category":"cartera"
    },
    {
      "id": 11,
      "name": "Cartera de Mano Guinda",
      "price": 105,
      "description": "Cartera ecológica de diseño único",
      "img": "images/productos/new/Cartera de mano Guinda.jpg",
      "color": "Guinda",
      "size": " 26cm largo x 15 cm alto (abierta)",
      "material": " Aguayo de lana de oveja, Yute",
      "category":"cartera"
    },
    {
      "id": 12,
      "name": "Cartera de Mano Lila",
      "price": 105,
      "description": "Cartera ecológica de diseño único",
      "img": "images/productos/new/Cartera de mano Lila.jpg",
      "color": "Lila",
      "size": " 26cm largo x 15 cm alto (abierta)",
      "material": " Aguayo de lana de oveja, Yute",
      "category":"cartera"
    },
    {
      "id": 13,
      "name": "Cartera de Mano morada",
      "price": 105,
      "description": "Cartera ecológica de diseño único",
      "img": "images/productos/new/Cartera de mano morada.jpg",
      "color": "morada",
      "size": " 26cm largo x 15 cm alto (abierta)",
      "material": " Aguayo de lana de oveja, Yute",
      "category":"cartera"
    },
    {
      "id": 14,
      "name": "Cartera de Mano negra",
      "price": 105,
      "description": "Cartera ecológica de diseño único",
      "img": "images/productos/new/Cartera de mano negra.jpg",
      "color": "negra",
      "size": " 26cm largo x 15 cm alto (abierta)",
      "material": " Aguayo de lana de oveja, Yute",
      "category":"cartera"
    },
    {
      "id": 15,
      "name": "Cartera de Mano verde",
      "price": 105,
      "description": "Cartera ecológica de diseño único",
      "img": "images/productos/new/cartera de mano verde.jpg",
      "color": "verde",
      "size": " 26cm largo x 15 cm alto (abierta)",
      "material": " Aguayo de lana de oveja, Yute",
      "category":"cartera"
    },
    {
      "id": 16,
      "name": "Cartera de Mano Naranja",
      "price": 105,
      "description": "Cartera ecológica de diseño único",
      "img": "images/productos/new/carteranaranja.jpg",
      "color": "Naranja",
      "size": " 26cm largo x 15 cm alto (abierta)",
      "material": " Aguayo de lana de oveja, Yute",
      "category":"cartera"
    },
    {
      "id": 17,
      "name": "Mochila celeste",
      "price": 155,
      "img": "images/productos/new/mochila celeste.jpg",
      "description": "Mochila resistente y sostenible para el día a día",
      "color":"celeste",
      "size": " 27cm largo x 23 cm alto (abierta)",
      "material": " Aguayo de Lana de oveja",
      "category":"mochila"
    },
    {
      "id": 19,
      "name": "Mochila Fucsia",
      "price": 155,
      "img": "images/productos/new/Mochila Fucsia.jpg",
      "description": "Mochila resistente y sostenible para el día a día",
      "color":"Fucsia",
      "size": " 27cm largo x 23 cm alto (abierta)",
      "material": " Aguayo de Lana de oveja",
      "category":"mochila"
    },
    {
      "id": 18,
      "name": "Mochila Gris",
      "price": 155,
      "img": "images/productos/new/mochila gris.jpg",
      "description": "Mochila resistente y sostenible para el día a día",
      "color":"Gris",
      "size": " 27cm largo x 23 cm alto (abierta)",
      "material": " Aguayo de Lana de oveja",
      "category":"mochila"
    },
    {
      "id": 23,
      "name": "Polera Esencia Bolivia",
      "price": 160,
      "img": "images/productos/new/Polera Blanca.jpg",
      "description": "Polera 100% algodón, su diseño representa la esencia de ser boliviano",
      "color":"Blanca",
      "size": " Hombres tallas: XXL XL L M S / Mujeres: XXL XL L M S ",
      "material": " Algodón",
      "category":"polera"
    },
    {
      "id": 22,
      "name": "Polera Esencia Bolivia",
      "price": 160,
      "img": "images/productos/new/Polera Negra.jpg",
      "description": "Polera 100% algodón, su diseño representa la esencia de ser boliviano",
      "color":"Negra",
      "size": " Hombres tallas: XXL XL L M S / Mujeres: XXL XL L M S",
      "material": " Algodón",
      "category":"polera"
    },
  ];
  

  function generateProductCards(imagePath) {
  let html = '';
  
  data.forEach(product => {
    html += `
      <div class="col-lg-4 col-md-6 mt-5">
        <div class="card shadow">
          <img src="${product.img}" class="card-img-top card-img-size" alt="${product.name}" style="max-height: 300px;">
          <div class="card-body">
            <h5 class="card-title">${product.name}</h5>
            <button onclick={loadModal(${product.id})} href="#" class="btn btn-primary" data-toggle="modal" data-target="#modalProduct">Ver detalles</button>
          </div>
        </div>
      </div>
    `;
  });
  
  return html;
}

function sendMessage (nombre){
  alert(nombre);
  console.log(nombre);
  // var phoneNumber = "59172897805";
  // console.log(phoneNumber);
  // // Construye el mensaje personalizado solicitando más información sobre el accesorio
  // var message = "Hola, estoy interesado en obtener más información sobre el accesorio " + nombre + ". ¿Podrías proporcionarme más detalles?";
  
  // // Construye la URL de WhatsApp con el número de teléfono y el mensaje
  // var whatsappURL = "https://api.whatsapp.com/send?phone=" + phoneNumber + "&text=" + encodeURIComponent(message);
  // console.log(whatsappURL);
  // // Abre la ventana de WhatsApp con el mensaje predefinido
  // window.open(whatsappURL);
}


function enviarMensaje (nombre){

  var phoneNumber = "59172897805";
  var message = "Hola, estoy interesado en obtener más información sobre el accesorio " + nombre + ". ¿Podrías proporcionarme más detalles?";
  var whatsappURL = "https://api.whatsapp.com/send?phone=" + phoneNumber + "&text=" + encodeURIComponent(message);
  window.open(whatsappURL);
}

function loadModal(index) {
    const product = data.find(item => item.id === index);
    const modalContent = document.getElementById('modal-content');
  
    const modalHTML = `
      <div class="modal-header">
        <h5 class="modal-title text-white" id="modalProductLabel">Detalles del producto</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body d-flex">
        <div class="col-sm-12 col-lg-6">
          <img src="/${product.img}" class="img-fluid modal-image" alt="${product.name}">
        </div>
        <div class="col-sm-12 col-lg-6 mt-2">
          <h4 class="text-primary">${product.name}</h4>
          <p class="font-weight-bold">Precio: BOB. ${product.price}</p>
          <p>${product.description}</p>
          <p class="font-weight-bold">Características:</p>
          <ul>
            <li>Material: ${product.material}</li>
            <li>Tamaño: ${product.size}</li>
            <li>Color: ${product.color}</li>
          </ul>
        </div>
      </div>
      <div class="modal-footer">
      <button onclick="enviarMensaje('${product.name}')" type="button" class="btn btn-primary">Comprar</button>
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Cerrar</button>
      </div>
    `;
  
    modalContent.innerHTML = modalHTML;
  }
  
  


// Llamada a la función y asignación del resultado al div con id "listProduct"
function loadProducts() {
  document.getElementById('listProduct').innerHTML = generateProductCards('images/productos');
}

function loadCategory(category) {
  const accessory = document.getElementById('listProduct');
  document.getElementById('listProduct').innerHTML = "";
  accessory.classList.add('catalog-transition');
  setTimeout(() => {
  let html = '';
  data.forEach(product => {
    if(product.category == category){
      html += `
      <div class="col-lg-4 col-md-6 mt-5">
        <div class="card shadow">
          <img src="${product.img}" class="card-img-top card-img-size" alt="${product.name}" style="max-height: 300px; min-height: 300px;">
          <div class="card-body">
            <h5 class="card-title">${product.name}</h5>
            <button onclick={loadModal(${product.id})} href="#" class="btn btn-primary" data-toggle="modal" data-target="#modalProduct">Ver detalles</button>
          </div>
        </div>
      </div>
    `;
    }
  });
  document.getElementById('listProduct').innerHTML = html;
  accessory.classList.remove('catalog-transition');
  }, 300);
}

function modalImage(imagePath){
    let modalContent = document.getElementById('modalImage-content');
    modalContent.innerHTML = '';
  
    let img = document.createElement('img');
    img.src = imagePath;
    img.alt = 'Imagen ampliada';
    img.classList.add('img-fluid');
    img.classList.add('modal-image');
  
    modalContent.appendChild(img);
}

/**
 *       <button id="all-product" class="btn btn-pink mx-2 mt-2">Ver todos</button>
                    <button id="mochila-product" class="btn btn-pink-outline mx-2 mt-2 ">Mochilas</button>
                    <button id="billetera-product" class="btn btn-pink-outline mx-2 mt-2">Billeteras</button>
                    <button id="cartera-product" class="btn btn-pink-outline mx-2 mt-2">Carteras</button>
                    <button id="polera-product" class="btn btn-pink-outline mx-2 mt-2">Poleras</button>
                    <button id="coca-product" class="btn btn-pink-outline mx-2 mt-2">Bolsitas de Coca</button>
               
 */

document.getElementById('mochila-product').addEventListener('click', function() {
  loadCategory("mochila");
});

document.getElementById('billetera-product').addEventListener('click', function() {
  loadCategory("billetera");
});

document.getElementById('cartera-product').addEventListener('click', function() {
  loadCategory("cartera");
});

document.getElementById('polera-product').addEventListener('click', function() {
  loadCategory("polera");
});

document.getElementById('coca-product').addEventListener('click', function() {
  loadCategory("coca");
});

document.getElementById('all-product').addEventListener('click', function() {
  loadProducts();
});
              

window.onload = function() {
  // Obtener el fragmento de la URL después del #
  var fragmento = window.location.hash.substr(1);

  // Verificar si hay un fragmento válido
  if (fragmento) {
    // Llamar a la función loadCategory con el valor del fragmento
    loadCategory(fragmento);
  }
};